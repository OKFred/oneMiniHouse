<template>
  <myUview :globalObj="globalObj" />
  <myHeader :parentObj="localObj" />
  <myContent>
    <view :name="'myContentSlot'" style="margin: 0 0 10rem 0" />
    <template #myContentSlot v-if="localObj.tabs?.currentTab !== 'æ–‡æœ¬'">
      <view style="margin-top: 5rem" />
      <theForm :localObj="localObj" />
    </template>
    <template #myContentSlot v-if="localObj.tabs?.currentTab === 'å›¾è¡¨'">
      <view style="margin-top: 1rem" />
      <theChart :localObj="localObj" />
    </template>
  </myContent>
  <theFooter :localObj="localObj" />
</template>

<script setup>
//æ¡†æ¶å¼•å…¥
import {
  reactive,
  watch,
  computed,
  onMounted,
  onActivated,
  onDeactivated,
  onUpdated,
  defineProps,
} from "vue";

import { onLoad, onShow } from "@dcloudio/uni-app";

//ç»„ä»¶å¼•å…¥
import myUview from "/src/components/my-uview/index.vue";
import myHeader from "/src/components/my-header/index.vue";
import myContent from "/src/components/my-content/index.vue";

import theFooter from "./components/theFooter.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theForm from "./components/theForm.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theChart from "./components/theChart.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
 
//çˆ¶ç³»å…¥å‚
const { onNav, onNavBack, globalData } = globalThis.app;


const props = defineProps({
  globalObj: Object,
});

function setData(obj) {
  Object.assign(localObj, obj);
}

async function fetchData() {
  console.log("ğŸ“¶å‡†å¤‡è·å–æ•°æ®");
  console.log(localObj);
}

//å½“å‰é¡¹ç›®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°
let localObj = reactive({
  // debug: true,
  pageName: "æ™ºèƒ½å®¶å±…",
  headerColor: "blue",
  requestParamObj: {},
  fetchData,
});

</script>

<style></style>
