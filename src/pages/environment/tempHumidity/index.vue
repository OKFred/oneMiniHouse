<template>
  <mytaro />
  <theHeader :localObj="localObj" />
  <mycontents>
    <slot-view :name="'myContentSlot'" style="margin: 0 0 7rem 0" v-show="localObj.tabs?.currentTab === 'æ–‡æœ¬'">
      <!-- <theFilter :localObj="localObj" /> -->
      <!-- <view style="margin-top: 0.5rem" /> -->
      <!-- <theTable :localObj="localObj" /> -->
      <view style="margin-top: 0.5rem" />
      <theForm :localObj="localObj" />
      <!-- <theDialog :localObj="localObj" /> -->
    </slot-view>
    <slot-view :name="'myContentSlot'" style="margin: 0 0 7rem 0" v-show="localObj.tabs?.currentTab === 'å›¾è¡¨'">
      <view style="margin-top: 1rem" />
      <theChart :localObj="localObj" />
      <!-- <theSearch :localObj="localObj" /> -->
      <!-- ğŸ‘‡å†…éƒ¨æœ‰van-tabsï¼Œè‡ªå¸¦bugï¼Œéœ€è¦v-ifé‡æ–°æ¸²æŸ“ï¼Œæ‰èƒ½æ­£ç¡®æ˜¾ç¤ºåº•éƒ¨æ¡ä½ç½® -->
      <!-- <theList :localObj="localObj" v-if="localObj.tabs?.currentTab === 'å›¾è¡¨'" />
      <thePop :localObj="localObj" /> -->
      <!-- <thePlate :localObj="localObj" /> -->
      <!-- <theSwipe :localObj="localObj" /> -->
    </slot-view>
  </mycontents>
  <theFooter :localObj="localObj" />
</template>

<script setup>
//æ¡†æ¶å¼•å…¥
import Taro from "@tarojs/taro";
import {
  reactive,
  watch,
  computed,
  onMounted,
  onBeforeUnmount,
  onActivated,
  onDeactivated,
  onUpdated,
  defineProps,
} from "vue";

//ç»„ä»¶å¼•å…¥
import mytaro from "@/src/components/mytaro/index.vue" //å…¬å…±é¡µé¢é…ç½®
import theHeader from "./components/theHeader.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theFooter from "./components/theFooter.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theFilter from "./components/theFilter.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theTable from "./components/theTable.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theForm from "./components/theForm.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theDialog from "./components/theDialog.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theSearch from "./components/theSearch.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theList from "./components/theList.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import thePop from "./components/thePop.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
import theChart from "./components/theChart.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
// import thePlate from "./components/thePlate.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶
// import theSwipe from "./components/theSwipe.vue"; //å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶

definePageConfig({
  navigationStyle: "custom",
  enableShareTimeline: true,
  enableShareAppMessage: true,
  usingComponents: {
    "ec-canvas": "@/src/components/ec-canvas/ec-canvas",
    mycontents: "@/src/components/mycontents/index",
    "van-tab": "@vant/weapp/tab/index",
    "van-tabs": "@vant/weapp/tabs/index",
    "van-icon": "@vant/weapp/icon/index",
    "van-field": "@vant/weapp/field/index",
    "van-button": "@vant/weapp/button/index",
  },
});

//çˆ¶ç³»å…¥å‚
const { onNav, onNavBack } = globalThis.app;

const props = defineProps({
  globalObj: Object,
});

function setData(obj) {
  Object.assign(localObj, obj);
}

async function fetchData() {
  console.log("ğŸ“¶å‡†å¤‡è·å–æ•°æ®");
  console.log(localObj);
}

//å½“å‰é¡¹ç›®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°
let localObj = reactive({
  // debug: true,
  pageName: "æ™ºèƒ½å®¶å±…",
  headerColor: "blue",
  requestParamObj: {},
  fetchData,
});

</script>

<style>

</style>
